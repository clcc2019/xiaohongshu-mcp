# 财联社MCP使用示例

本文档提供财联社MCP功能的详细使用示例。

## 前置条件

1. 启动MCP服务：
```bash
go run .
```

2. 配置MCP客户端（Cursor/Claude Code CLI/VSCode等）

## 使用示例

### 示例1：获取最新财经新闻

**对话示例：**
```
用户: 帮我获取最新的10条财联社新闻

AI: 好的，我来为您获取最新的财联社新闻。
[调用 fetch_cailianshe_news 工具，参数 limit=10]

获取到10条最新新闻：
1. 央行宣布降息25个基点 (2025-01-29 10:30)
2. 科技股集体上涨，芯片板块领涨 (2025-01-29 10:15)
3. 新能源汽车销量创新高 (2025-01-29 10:00)
...
```

### 示例2：搜索特定主题新闻

**对话示例：**
```
用户: 搜索关于"人工智能"的最新新闻

AI: 我来为您搜索关于人工智能的财联社新闻。
[调用 search_cailianshe_news 工具，参数 keyword="人工智能", limit=10]

找到5条相关新闻：
1. 人工智能产业政策出台，多家企业受益
2. AI芯片需求激增，相关概念股大涨
3. 人工智能应用场景不断拓展
...
```

### 示例3：分析单条新闻

**对话示例：**
```
用户: 分析这条新闻：
标题：央行宣布降息25个基点
内容：中国人民银行今日宣布下调贷款市场报价利率（LPR）25个基点，这是今年以来第二次降息。分析师认为，此举将有效降低企业融资成本，刺激经济增长。

AI: 我来为您分析这条新闻。
[调用 analyze_cailianshe_news 工具]

分析结果：

📊 **情感倾向**: 利好 (positive)

🔑 **关键词**: 央行、降息、货币政策、利率、融资成本

🏢 **相关行业**: 
- 金融
- 地产
- 制造

📈 **相关股票**: 
- 601398 (工商银行)
- 000001 (平安银行)

💡 **影响分析**:
该新闻对金融、地产、制造行业呈利好影响；可能影响股票: 601398、000001；宏观政策影响，可能波及整体市场

🎯 **预测建议**:
建议关注金融、地产、制造板块的投资机会；短期内相关标的可能有上涨动能

📊 **置信度**: 85%
```

### 示例4：获取并分析最新新闻

**对话示例：**
```
用户: 获取最新5条新闻并进行分析

AI: 好的，我来获取并分析最新的财联社新闻。
[调用 fetch_and_analyze_cailianshe_news 工具，参数 limit=5]

已获取并分析5条新闻：

📰 **新闻1**: 央行宣布降息25个基点
   - 情感: 利好
   - 行业: 金融、地产、制造
   - 预测: 建议关注金融板块投资机会
   - 置信度: 85%

📰 **新闻2**: 科技股集体上涨
   - 情感: 利好
   - 行业: 科技
   - 股票: 000063, 600519
   - 预测: 短期内相关标的可能有上涨动能
   - 置信度: 75%

...
```

### 示例5：启动定时监控

**对话示例：**
```
用户: 帮我启动定时任务，每5分钟自动获取最新财经新闻

AI: 好的，我来为您启动定时任务。
[调用 start_cailianshe_scheduler 工具，参数 interval_minutes=5]

✅ 定时任务已启动
- 间隔: 5分钟
- 状态: 运行中
- 下次更新: 2025-01-29 10:35:00

系统将每5分钟自动获取最新财联社新闻并进行分析。
```

### 示例6：查看定时任务状态

**对话示例：**
```
用户: 查看定时任务状态

AI: 我来查看定时任务的状态。
[调用 get_cailianshe_scheduler_status 工具]

📊 **定时任务状态**:
- 运行状态: ✅ 运行中
- 缓存新闻数量: 20条
- 最后更新时间: 2025-01-29 10:30:00
- 距离上次更新: 2分钟前
```

### 示例7：获取缓存的新闻

**对话示例：**
```
用户: 获取缓存中的最新新闻

AI: 我来获取缓存中的新闻。
[调用 get_cached_cailianshe_news 工具，参数 limit=10]

📚 **缓存新闻** (共20条，显示最新10条):

1. 央行宣布降息25个基点 (2分钟前)
   - 情感: 利好 | 行业: 金融、地产
   
2. 科技股集体上涨 (5分钟前)
   - 情感: 利好 | 行业: 科技
   
...
```

### 示例8：停止定时任务

**对话示例：**
```
用户: 停止定时任务

AI: 好的，我来停止定时任务。
[调用 stop_cailianshe_scheduler 工具]

✅ 定时任务已停止
- 运行时长: 2小时15分钟
- 总共获取: 27次
- 新闻总数: 135条
```

## 综合应用场景

### 场景A：早盘前准备

```
用户: 我想了解今天早盘前的重要财经新闻

AI: 好的，我来为您准备早盘前的财经信息。

[步骤1: 获取并分析最新新闻]
[步骤2: 筛选重要新闻]
[步骤3: 总结关键信息]

📊 **今日早盘前重要新闻汇总**:

🔴 **宏观政策** (2条):
1. 央行降息25个基点 - 利好金融、地产板块
2. 财政部发布减税政策 - 利好制造业

🟢 **行业动态** (3条):
1. 新能源汽车销量创新高 - 关注新能源板块
2. 芯片产业获政策支持 - 关注科技股
3. 房地产销售回暖 - 地产股可能受益

💡 **投资建议**:
- 重点关注: 金融、新能源、科技板块
- 谨慎对待: 传统制造业
- 建议操作: 适当增加金融和新能源仓位
```

### 场景B：行业研究

```
用户: 我想研究新能源行业的最新动态

AI: 好的，我来为您收集和分析新能源行业的相关信息。

[步骤1: 搜索"新能源"相关新闻]
[步骤2: 批量分析新闻]
[步骤3: 汇总行业趋势]

📊 **新能源行业分析报告**:

📰 **相关新闻** (15条):
- 政策类: 5条 (多为利好)
- 企业类: 7条 (业绩增长)
- 技术类: 3条 (技术突破)

📈 **整体趋势**: 
- 情感倾向: 80% 利好, 15% 中性, 5% 利空
- 政策支持力度加大
- 市场需求持续旺盛
- 技术创新加速

🎯 **投资建议**:
- 行业处于上升周期
- 建议关注龙头企业
- 关注技术创新型公司
- 注意估值风险

📊 **相关股票**: 
- 300750 (宁德时代)
- 002594 (比亚迪)
- ...
```

### 场景C：风险监控

```
用户: 启动风险监控，如果有重大利空新闻立即提醒我

AI: 好的，我来为您设置风险监控。

[步骤1: 启动定时任务，间隔1分钟]
[步骤2: 设置利空新闻过滤器]
[步骤3: 持续监控]

✅ **风险监控已启动**:
- 监控间隔: 1分钟
- 监控范围: 所有财联社新闻
- 触发条件: 情感为"利空"且置信度>70%

🔔 **监控中...**

[10分钟后]

⚠️ **重要提醒**: 检测到重大利空新闻！

📰 **新闻**: 监管部门发布新规，限制某行业融资
- 情感: 利空 (negative)
- 影响行业: 金融、地产
- 置信度: 90%
- 建议: 谨慎对待相关板块，注意风险控制
```

## 高级技巧

### 技巧1：组合使用多个工具

```
1. 先搜索特定主题新闻
2. 对搜索结果进行详细分析
3. 启动定时任务持续跟踪
4. 定期查看缓存获取更新
```

### 技巧2：关注置信度

```
- 置信度 > 80%: 分析结果较可靠
- 置信度 60-80%: 需要结合其他信息
- 置信度 < 60%: 建议谨慎参考
```

### 技巧3：交叉验证

```
1. 获取多条相关新闻
2. 对比不同新闻的分析结果
3. 寻找共同趋势
4. 做出综合判断
```

## 注意事项

1. **分析结果仅供参考**：当前分析基于关键词和规则，不构成投资建议
2. **及时性**：新闻更新有延迟，重要决策请参考实时信息
3. **资源使用**：定时任务会持续占用资源，不用时请及时停止
4. **网络依赖**：需要稳定的网络连接访问财联社网站

## 反馈与改进

如果您有任何建议或发现问题，欢迎通过GitHub Issues反馈！

